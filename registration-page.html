<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABHA Management System</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="registration-style.css">
    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Container for the entire webpage content -->
    <div class="container-fluid p-5 text-center text-white main-bg">
        <h1 class="display-4 mb-4">ABHA Management System</h1>
        <p class="lead mb-5">Create and manage your Ayushman Bharat Health Account (ABHA) with ease.</p>

        <!-- Session Management Section -->
        <div class="card mx-auto mb-5 shadow session-card" style="max-width: 600px;">
            <div class="card-header session-card-header">
                <h3 class="mb-0">Session Management</h3>
            </div>
            <div class="card-body session-card-body">
                <form id="sessionForm">
                    <div class="mb-3">
                        <label for="clientId" class="form-label">Client ID:</label>
                        <input type="text" class="form-control" id="clientId" placeholder="Enter your Client ID" required>
                    </div>
                    <div class="mb-3">
                        <label for="clientSecret" class="form-label">Client Password:</label>
                        <input type="password" class="form-control" id="clientSecret" placeholder="Enter your Client Secret" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Generate Session Token</button>
                    <p id="sessionStatus" class="mt-3 text-success"></p>
                </form>
            </div>
        </div>

        <!-- ABHA Creation Section -->
        <div class="accordion" id="abhaCreationAccordion">
            <!-- Create ABHA with Aadhaar -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingAadhaar">
                    <button class="accordion-button collapsed custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAadhaar" aria-expanded="false" aria-controls="collapseAadhaar">
                        <i class="fas fa-id-card me-2"></i>Create ABHA with Aadhaar
                    </button>
                </h2>
                <div id="collapseAadhaar" class="accordion-collapse collapse" aria-labelledby="headingAadhaar" data-bs-parent="#abhaCreationAccordion">
                    <div class="accordion-body">
                        <form id="aadhaarForm">
                            <div class="mb-3">
                                <label for="aadhaarNumber" class="form-label">Aadhaar Number:</label>
                                <input type="text" class="form-control" id="aadhaarNumber" placeholder="Enter your Aadhaar Number" required>
                            </div>
                            <button type="button" class="btn btn-info" onclick="generateAadhaarOTP()">Generate OTP</button>
                            <div class="mb-3 mt-3">
                                <label for="aadhaarOtp" class="form-label">OTP:</label>
                                <input type="text" class="form-control" id="aadhaarOtp" placeholder="Enter the OTP" required>
                            </div>
                            <button type="button" class="btn btn-success" onclick="createABHAViaAadhaar()">Create ABHA</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Create ABHA with Mobile Number -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingMobile">
                    <button class="accordion-button collapsed custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMobile" aria-expanded="false" aria-controls="collapseMobile">
                        <i class="fas fa-mobile-alt me-2"></i>Create ABHA with Mobile Number
                    </button>
                </h2>
                <div id="collapseMobile" class="accordion-collapse collapse" aria-labelledby="headingMobile" data-bs-parent="#abhaCreationAccordion">
                    <div class="accordion-body">
                        <form id="mobileForm">
                            <div class="mb-3">
                                <label for="mobileNumber" class="form-label">Mobile Number:</label>
                                <input type="text" class="form-control" id="mobileNumber" placeholder="Enter your Mobile Number" required>
                            </div>
                            <button type="button" class="btn btn-info" onclick="generateMobileOTP()">Generate OTP</button>
                            <div class="mb-3 mt-3">
                                <label for="mobileOtp" class="form-label">OTP:</label>
                                <input type="text" class="form-control" id="mobileOtp" placeholder="Enter the OTP" required>
                            </div>
                            <button type="button" class="btn btn-success" onclick="createABHAViaMobile()">Create ABHA</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Create ABHA with Driving License -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingDL">
                    <button class="accordion-button collapsed custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDL" aria-expanded="false" aria-controls="collapseDL">
                        <i class="fas fa-car me-2"></i>Create ABHA with Driving License
                    </button>
                </h2>
                <div id="collapseDL" class="accordion-collapse collapse" aria-labelledby="headingDL" data-bs-parent="#abhaCreationAccordion">
                    <div class="accordion-body">
                        <form id="dlForm">
                            <div class="mb-3">
                                <label for="dlNumber" class="form-label">Driving License Number:</label>
                                <input type="text" class="form-control" id="dlNumber" placeholder="Enter your Driving License Number" required>
                            </div>
                            <button type="button" class="btn btn-info" onclick="generateDLOTP()">Generate OTP</button>
                            <div class="mb-3 mt-3">
                                <label for="dlOtp" class="form-label">OTP:</label>
                                <input type="text" class="form-control" id="dlOtp" placeholder="Enter the OTP" required>
                            </div>
                            <button type="button" class="btn btn-success" onclick="createABHAViaDL()">Create ABHA</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Create ABHA with Demo Authentication -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingDemo">
                    <button class="accordion-button collapsed custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDemo" aria-expanded="false" aria-controls="collapseDemo">
                        <i class="fas fa-user-shield me-2"></i>Create ABHA with Demo Authentication
                    </button>
                </h2>
                <div id="collapseDemo" class="accordion-collapse collapse" aria-labelledby="headingDemo" data-bs-parent="#abhaCreationAccordion">
                    <div class="accordion-body">
                        <form id="demoForm">
                            <div class="mb-3">
                                <label for="demoDetails" class="form-label">Demo Details:</label>
                                <input type="text" class="form-control" id="demoDetails" placeholder="Enter demo details" required>
                            </div>
                            <button type="button" class="btn btn-success" onclick="redirectToProfilePage()">Generate and View Profile</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"></script>
    <script src="registration-script.js"></script>
    <script>
        // Function to redirect to the profile page with demo details
        function redirectToProfilePage() {
            const demoDetails = document.getElementById("demoDetails").value;
            // Redirect to profile page with demo details as a query parameter
            window.location.href = `profile-page.html?name=${encodeURIComponent(demoDetails)}`;
        }
    </script>
</body>
</html>
